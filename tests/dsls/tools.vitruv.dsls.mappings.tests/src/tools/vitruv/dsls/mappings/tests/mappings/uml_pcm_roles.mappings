import "http://www.eclipse.org/uml2/5.0.0/UML" as uml 
import "http://palladiosimulator.org/PalladioComponentModel/5.2" as pcm
    	
mappings: umlXpcmRoles for UML and PCM
 
mapping RequiredRole {

	map(pcm::OperationRequiredRole role
		//todo resolve
		//pcm::InterfaceProvidingRequiringEntity requiringEntity
	)
	//with{
		//role in requiringEntity[requiredRoles_InterfaceRequiringEntity]
		//todo after element pcm::OperationInterface replaced at pcm::OperationRequiredRole[requiredInterface__OperationRequiredRole]		
	//}
	and(uml::Property property
		uml::Class class
		uml::Interface interface
	)
	with{
		property in class[ownedAttribute]
		interface in property[type]		
	}
	such that{
		observe attributes{
			pcm::OperationRequiredRole[entityName]
			uml::Property[name]
		}
	}
	
	//todo pcm::OperationRequiredRole <> uml::Parameter
	//is it a seperate mapping or part of this?
	//	after element uml::Parameter inserted in uml::Operation[ownedParameter]
	//	after element uml::Parameter removed from uml::Operation[ownedParameter]
	//	after element uml::Parameter deleted
	//	after attribute replaced at uml::Parameter[name]
	//	after element uml::Interface replaced at uml::Parameter[type]
}

mapping ProvidedRole {
	map(pcm::OperationProvidedRole role
		//todo resolve
		//pcm::InterfaceProvidingRequiringEntity requiringEntity
	)
	//with{
		//role in requiringEntity[providedRoles_InterfaceProvidingEntity]
		//todo after element pcm::OperationInterface replaced at pcm::OperationProvidedRole[providedInterface__OperationProvidedRole]
	//}
	and(uml::InterfaceRealization interfaceRealization
		uml::Class class
		uml::Interface interface
	)
	with{
		interfaceRealization in class[interfaceRealization]
		interface in interfaceRealization[contract]
	}
	such that{
		observe attributes{
			pcm::OperationProvidedRole[entityName]
			uml::InterfaceRealization[name]
		}
	}
}